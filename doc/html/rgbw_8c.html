<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>PitStick: rgbw.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PitStick
   &#160;<span id="projectnumber">1.00</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('rgbw_8c.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">rgbw.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Contains SK6812 led strip driver implementation. The driver converts rgbw led data to serial array of short and long PWM pulses that are sent by dma to timer2 and use it's ch1 out.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="rgbw_8h_source.html">rgbw.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="timer__dma_8h_source.html">timer_dma.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="led__control_8h_source.html">led_control.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="led__strip_8h_source.html">led_strip.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="project__conf_8h_source.html">project_conf.h</a>&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for rgbw.c:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="rgbw_8c__incl.png" border="0" usemap="#rgbw_8c" alt=""/></div>
<map name="rgbw_8c" id="rgbw_8c">
<area shape="rect" id="node2" href="rgbw_8h.html" title="Contains prototypes and data types for SK6812 led strip driver. " alt="" coords="5,80,67,107"/>
<area shape="rect" id="node4" href="timer__dma_8h.html" title="Contains timer2+dma driver prototypes to send data to led strip. " alt="" coords="91,80,186,107"/>
<area shape="rect" id="node5" href="led__control_8h.html" title="Contains function that controls led strip. " alt="" coords="211,80,307,107"/>
<area shape="rect" id="node6" href="led__strip_8h.html" title="Contains common functions prototypes for led strip control. " alt="" coords="331,80,413,107"/>
<area shape="rect" id="node7" href="project__conf_8h.html" title="Contains configuration constants for the project. " alt="" coords="437,80,541,107"/>
</map>
</div>
</div>
<p><a href="rgbw_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:af329e50c7919db9702a638a133b857af"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgbw_8c.html#af329e50c7919db9702a638a133b857af">CCR_0</a>&#160;&#160;&#160;20 /* 0.5us */</td></tr>
<tr class="separator:af329e50c7919db9702a638a133b857af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23d0c688fdaa1f9cdab9a121a17d7268"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgbw_8c.html#a23d0c688fdaa1f9cdab9a121a17d7268">CCR_1</a>&#160;&#160;&#160;64 /* 1.2us */</td></tr>
<tr class="separator:a23d0c688fdaa1f9cdab9a121a17d7268"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a347c73ab43dfdc8ff24ddfdeff8666d6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgbw_8c.html#a347c73ab43dfdc8ff24ddfdeff8666d6">RESET_BITS</a>&#160;&#160;&#160;40</td></tr>
<tr class="separator:a347c73ab43dfdc8ff24ddfdeff8666d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4b79ba57aa6ca4ca0a3d83f32a727eca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rgbw_8c.html#a4b79ba57aa6ca4ca0a3d83f32a727eca">displayStrip</a> (<a class="el" href="structLed__t.html">Led_t</a> *const Leds)</td></tr>
<tr class="memdesc:a4b79ba57aa6ca4ca0a3d83f32a727eca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends data to the strip. Number of leds is <a class="el" href="project__conf_8h.html#a99fb83031ce9923c84392b4e92f956b5a1e3c2fa5fc1173d95493e66794a6b69f">NLEDS</a>.  <a href="#a4b79ba57aa6ca4ca0a3d83f32a727eca">More...</a><br /></td></tr>
<tr class="separator:a4b79ba57aa6ca4ca0a3d83f32a727eca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Contains SK6812 led strip driver implementation. The driver converts rgbw led data to serial array of short and long PWM pulses that are sent by dma to timer2 and use it's ch1 out. </p>
<p><em>Mykhaylo</em> Shcherbak <em><a href="#" onclick="location.href='mai'+'lto:'+'mik'+'l7'+'4@y'+'ah'+'oo.'+'co'+'m'; return false;">mikl7<span style="display: none;">.nosp@m.</span>4@ya<span style="display: none;">.nosp@m.</span>hoo.c<span style="display: none;">.nosp@m.</span>om</a></em> </p><dl class="section date"><dt>Date</dt><dd>21-11-2019 </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.00 </dd></dl>

<p>Definition in file <a class="el" href="rgbw_8c_source.html">rgbw.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="af329e50c7919db9702a638a133b857af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CCR_0&#160;&#160;&#160;20 /* 0.5us */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="rgbw_8c_source.html#l00017">17</a> of file <a class="el" href="rgbw_8c_source.html">rgbw.c</a>.</p>

</div>
</div>
<a class="anchor" id="a23d0c688fdaa1f9cdab9a121a17d7268"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CCR_1&#160;&#160;&#160;64 /* 1.2us */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="rgbw_8c_source.html#l00018">18</a> of file <a class="el" href="rgbw_8c_source.html">rgbw.c</a>.</p>

</div>
</div>
<a class="anchor" id="a347c73ab43dfdc8ff24ddfdeff8666d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RESET_BITS&#160;&#160;&#160;40</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="rgbw_8c_source.html#l00019">19</a> of file <a class="el" href="rgbw_8c_source.html">rgbw.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a4b79ba57aa6ca4ca0a3d83f32a727eca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void displayStrip </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structLed__t.html">Led_t</a> *const&#160;</td>
          <td class="paramname"><em>Leds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends data to the strip. Number of leds is <a class="el" href="project__conf_8h.html#a99fb83031ce9923c84392b4e92f956b5a1e3c2fa5fc1173d95493e66794a6b69f">NLEDS</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Leds</td><td>Pointer to the array of led data </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rgbw_8c_source.html#l00085">85</a> of file <a class="el" href="rgbw_8c_source.html">rgbw.c</a>.</p>

<p>References <a class="el" href="timer__dma_8c_source.html#l00061">tim2_set_data()</a>, and <a class="el" href="timer__dma_8c_source.html#l00070">tim2_TransferBits()</a>.</p>

<p>Referenced by <a class="el" href="led__strip_8c_source.html#l00274">sendDataToStrip()</a>.</p>

<p><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="rgbw_8c_a4b79ba57aa6ca4ca0a3d83f32a727eca_cgraph.png" border="0" usemap="#rgbw_8c_a4b79ba57aa6ca4ca0a3d83f32a727eca_cgraph" alt=""/></div>
<map name="rgbw_8c_a4b79ba57aa6ca4ca0a3d83f32a727eca_cgraph" id="rgbw_8c_a4b79ba57aa6ca4ca0a3d83f32a727eca_cgraph">
<area shape="rect" id="node2" href="timer__dma_8h.html#a75b93c602be5fbf40b79833110fc6660" title="Sets data to be sent. " alt="" coords="155,5,259,32"/>
<area shape="rect" id="node3" href="timer__dma_8h.html#af86e00ec18fe61f4d6b54bbe27b63a8d" title="Starts actual transfer. " alt="" coords="144,56,269,83"/>
</map>
</div>
</p>

<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="rgbw_8c_a4b79ba57aa6ca4ca0a3d83f32a727eca_icgraph.png" border="0" usemap="#rgbw_8c_a4b79ba57aa6ca4ca0a3d83f32a727eca_icgraph" alt=""/></div>
<map name="rgbw_8c_a4b79ba57aa6ca4ca0a3d83f32a727eca_icgraph" id="rgbw_8c_a4b79ba57aa6ca4ca0a3d83f32a727eca_icgraph">
<area shape="rect" id="node2" href="led__strip_8c.html#a57ecf691227bc0c041049ee7324cbd06" title="Sends the led buffer to the led strip. " alt="" coords="144,5,264,32"/>
<area shape="rect" id="node3" href="led__control_8c.html#afaaf13eec5719f4c93d6264fdc9a77c8" title="The entry point of the led control. Switches to pitstick, config mode or tlight. " alt="" coords="312,5,397,32"/>
</map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_08d237fc27d4ecd563f71c5d52f2fecc.html">sources</a></li><li class="navelem"><a class="el" href="dir_0bfc49e0d386ea7e5174252bd29a3c74.html">project</a></li><li class="navelem"><a class="el" href="dir_62263014576ac8110a5aa709d60a849e.html">dl</a></li><li class="navelem"><a class="el" href="dir_d023c8a59e7154d3c085a78038716ca7.html">src</a></li><li class="navelem"><a class="el" href="rgbw_8c.html">rgbw.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
